{
	"info": {
		"_postman_id": "websocket-stomp-collection",
		"name": "WebSocket STOMP Test Collection",
		"description": "Spring Boot WebSocket + STOMP í”„ë¡œì íŠ¸ í…ŒìŠ¤íŠ¸ìš© Collection\n\nì´ Collectionì€ ë‹¤ìŒ ê¸°ëŠ¥ë“¤ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n- WebSocket ì„¸ì…˜ ê´€ë¦¬ API\n- ë¸Œë¡œë“œìºìŠ¤íŠ¸ ë©”ì‹œì§€ ì „ì†¡\n- ì±„íŒ…ë°© ê´€ë¦¬ API\n- ì‹¤ì‹œê°„ ìƒíƒœ ì¡°íšŒ\n\nì‚¬ìš© ë°©ë²•:\n1. ì„œë²„ë¥¼ http://localhost:8080 ì—ì„œ ì‹¤í–‰\n2. Collectionì„ Import\n3. ê° APIë¥¼ ìˆœì„œëŒ€ë¡œ í…ŒìŠ¤íŠ¸",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "WebSocket ì„¸ì…˜ ê´€ë¦¬",
			"item": [
				{
					"name": "í™œì„± ì„¸ì…˜ ìˆ˜ ì¡°íšŒ",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has activeSessionCount\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('activeSessionCount');",
									"    pm.expect(jsonData.activeSessionCount).to.be.a('number');",
									"});",
									"",
									"pm.test(\"Response has timestamp\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('timestamp');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/websocket/sessions/count",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"websocket",
								"sessions",
								"count"
							]
						},
						"description": "í˜„ì¬ í™œì„± WebSocket ì„¸ì…˜ ìˆ˜ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.\n\nì˜ˆìƒ ì‘ë‹µ:\n```json\n{\n    \"activeSessionCount\": 0,\n    \"timestamp\": 1699123456789\n}\n```"
					},
					"response": []
				},
				{
					"name": "WebSocket ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Service is running\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.status).to.eql('running');",
									"    pm.expect(jsonData.service).to.eql('WebSocket Service');",
									"});",
									"",
									"pm.test(\"Has activeConnections field\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('activeConnections');",
									"    pm.expect(jsonData.activeConnections).to.be.a('number');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/websocket/status",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"websocket",
								"status"
							]
						},
						"description": "WebSocket ì„œë¹„ìŠ¤ì˜ ì „ì²´ ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤.\n\nì˜ˆìƒ ì‘ë‹µ:\n```json\n{\n    \"service\": \"WebSocket Service\",\n    \"status\": \"running\",\n    \"activeConnections\": 0,\n    \"timestamp\": 1699123456789\n}\n```"
					},
					"response": []
				},
				{
					"name": "ë¸Œë¡œë“œìºìŠ¤íŠ¸ ë©”ì‹œì§€ ì „ì†¡",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Broadcast was successful\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"    pm.expect(jsonData.message).to.include('successfully');",
									"});",
									"",
									"pm.test(\"Has sentTo field\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('sentTo');",
									"    pm.expect(jsonData.sentTo).to.be.a('number');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"message\": \"ğŸ”” ì‹œìŠ¤í…œ ê³µì§€: Postmanì—ì„œ ì „ì†¡ëœ ë¸Œë¡œë“œìºìŠ¤íŠ¸ ë©”ì‹œì§€ì…ë‹ˆë‹¤!\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/websocket/broadcast",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"websocket",
								"broadcast"
							]
						},
						"description": "ëª¨ë“  í™œì„± WebSocket ì—°ê²°ì— ë¸Œë¡œë“œìºìŠ¤íŠ¸ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤.\n\nìš”ì²­ ë³¸ë¬¸:\n```json\n{\n    \"message\": \"ì „ì†¡í•  ë©”ì‹œì§€ ë‚´ìš©\"\n}\n```\n\nì˜ˆìƒ ì‘ë‹µ:\n```json\n{\n    \"success\": true,\n    \"message\": \"Broadcast message sent successfully\",\n    \"sentTo\": 3,\n    \"timestamp\": 1699123456789\n}\n```"
					},
					"response": []
				}
			],
			"description": "WebSocket ì„¸ì…˜ì˜ ìƒì„±, ê´€ë¦¬, ìƒíƒœ ì¡°íšŒ ê´€ë ¨ APIë“¤ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤."
		},
		{
			"name": "ì±„íŒ…ë°© ê´€ë¦¬",
			"item": [
				{
					"name": "ëª¨ë“  ì±„íŒ…ë°© ì¡°íšŒ",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has totalRooms field\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('totalRooms');",
									"    pm.expect(jsonData.totalRooms).to.be.a('number');",
									"});",
									"",
									"pm.test(\"Response has rooms object\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('rooms');",
									"    pm.expect(jsonData.rooms).to.be.an('object');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/websocket/rooms",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"websocket",
								"rooms"
							]
						},
						"description": "í˜„ì¬ ìƒì„±ëœ ëª¨ë“  ì±„íŒ…ë°©ì˜ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.\n\nì˜ˆìƒ ì‘ë‹µ:\n```json\n{\n    \"totalRooms\": 2,\n    \"rooms\": {\n        \"room1\": {\n            \"participantCount\": 3,\n            \"participants\": [\"user1\", \"user2\", \"user3\"]\n        },\n        \"room2\": {\n            \"participantCount\": 1,\n            \"participants\": [\"user4\"]\n        }\n    },\n    \"timestamp\": 1699123456789\n}\n```"
					},
					"response": []
				},
				{
					"name": "íŠ¹ì • ì±„íŒ…ë°© ì°¸ì—¬ì ì¡°íšŒ",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has roomId\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('roomId');",
									"    pm.expect(jsonData.roomId).to.eql('testroom');",
									"});",
									"",
									"pm.test(\"Has participant information\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('participantCount');",
									"    pm.expect(jsonData).to.have.property('participants');",
									"    pm.expect(jsonData.participantCount).to.be.a('number');",
									"    pm.expect(jsonData.participants).to.be.an('array');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/websocket/rooms/testroom/participants",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"websocket",
								"rooms",
								"testroom",
								"participants"
							]
						},
						"description": "íŠ¹ì • ì±„íŒ…ë°©ì— í˜„ì¬ ì°¸ì—¬ ì¤‘ì¸ ì‚¬ìš©ì ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.\n\nì˜ˆìƒ ì‘ë‹µ:\n```json\n{\n    \"roomId\": \"testroom\",\n    \"participantCount\": 3,\n    \"participants\": [\"user1\", \"user2\", \"user3\"],\n    \"timestamp\": 1699123456789\n}\n```"
					},
					"response": []
				},
				{
					"name": "íŠ¹ì • ì±„íŒ…ë°© ìƒíƒœ ì¡°íšŒ",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has room status\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('roomId');",
									"    pm.expect(jsonData).to.have.property('participantCount');",
									"    pm.expect(jsonData).to.have.property('isActive');",
									"    pm.expect(jsonData.roomId).to.eql('testroom');",
									"    pm.expect(jsonData.participantCount).to.be.a('number');",
									"    pm.expect(jsonData.isActive).to.be.a('boolean');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/websocket/rooms/testroom/status",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"websocket",
								"rooms",
								"testroom",
								"status"
							]
						},
						"description": "íŠ¹ì • ì±„íŒ…ë°©ì˜ í˜„ì¬ ìƒíƒœë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.\n\nì˜ˆìƒ ì‘ë‹µ:\n```json\n{\n    \"roomId\": \"testroom\",\n    \"participantCount\": 3,\n    \"isActive\": true,\n    \"timestamp\": 1699123456789\n}\n```"
					},
					"response": []
				}
			],
			"description": "ì±„íŒ…ë°© ìƒì„±, ì°¸ì—¬ì ê´€ë¦¬, ìƒíƒœ ì¡°íšŒ ê´€ë ¨ APIë“¤ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤."
		},
		{
			"name": "í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤",
			"item": [
				{
					"name": "ì‹œë‚˜ë¦¬ì˜¤ 1: ì „ì²´ ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸",
					"item": [
						{
							"name": "1. ì„œë²„ ìƒíƒœ í™•ì¸",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"ì„œë²„ê°€ ì •ìƒ ë™ì‘ ì¤‘\", function () {",
											"    pm.response.to.have.status(200);",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql('running');",
											"});",
											"",
											"console.log('âœ… ì„œë²„ ìƒíƒœ í™•ì¸ ì™„ë£Œ');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/websocket/status",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"websocket",
										"status"
									]
								}
							},
							"response": []
						},
						{
							"name": "2. í˜„ì¬ ì„¸ì…˜ ìˆ˜ í™•ì¸",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"ì„¸ì…˜ ìˆ˜ ì¡°íšŒ ì„±ê³µ\", function () {",
											"    pm.response.to.have.status(200);",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData).to.have.property('activeSessionCount');",
											"    console.log('í˜„ì¬ í™œì„± ì„¸ì…˜ ìˆ˜:', jsonData.activeSessionCount);",
											"});",
											"",
											"console.log('âœ… ì„¸ì…˜ ìˆ˜ í™•ì¸ ì™„ë£Œ');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/websocket/sessions/count",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"websocket",
										"sessions",
										"count"
									]
								}
							},
							"response": []
						},
						{
							"name": "3. ì±„íŒ…ë°© í˜„í™© í™•ì¸",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"ì±„íŒ…ë°© ëª©ë¡ ì¡°íšŒ ì„±ê³µ\", function () {",
											"    pm.response.to.have.status(200);",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData).to.have.property('totalRooms');",
											"    console.log('ì´ ì±„íŒ…ë°© ìˆ˜:', jsonData.totalRooms);",
											"    console.log('ì±„íŒ…ë°© ëª©ë¡:', Object.keys(jsonData.rooms));",
											"});",
											"",
											"console.log('âœ… ì±„íŒ…ë°© í˜„í™© í™•ì¸ ì™„ë£Œ');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/websocket/rooms",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"websocket",
										"rooms"
									]
								}
							},
							"response": []
						}
					],
					"description": "ì„œë²„ì˜ ì „ì²´ ìƒíƒœë¥¼ ìˆœì°¨ì ìœ¼ë¡œ í™•ì¸í•˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ì…ë‹ˆë‹¤."
				},
				{
					"name": "ì‹œë‚˜ë¦¬ì˜¤ 2: ë¸Œë¡œë“œìºìŠ¤íŠ¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸",
					"item": [
						{
							"name": "1. ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì „ ì„¸ì…˜ ìˆ˜ í™•ì¸",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();",
											"pm.globals.set('sessionCountBefore', jsonData.activeSessionCount);",
											"console.log('ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì „ ì„¸ì…˜ ìˆ˜:', jsonData.activeSessionCount);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/websocket/sessions/count",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"websocket",
										"sessions",
										"count"
									]
								}
							},
							"response": []
						},
						{
							"name": "2. ë¸Œë¡œë“œìºìŠ¤íŠ¸ ë©”ì‹œì§€ ì „ì†¡",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì „ì†¡ ì„±ê³µ\", function () {",
											"    pm.response.to.have.status(200);",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.success).to.be.true;",
											"    console.log('ë¸Œë¡œë“œìºìŠ¤íŠ¸ ëŒ€ìƒ ì„¸ì…˜ ìˆ˜:', jsonData.sentTo);",
											"});",
											"",
											"console.log('âœ… ë¸Œë¡œë“œìºìŠ¤íŠ¸ ë©”ì‹œì§€ ì „ì†¡ ì™„ë£Œ');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"message\": \"ğŸ“¢ [í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤] ë¸Œë¡œë“œìºìŠ¤íŠ¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ë©”ì‹œì§€ì…ë‹ˆë‹¤. í˜„ì¬ ì‹œê°„: {{$timestamp}}\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/websocket/broadcast",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"websocket",
										"broadcast"
									]
								}
							},
							"response": []
						}
					],
					"description": "ë¸Œë¡œë“œìºìŠ¤íŠ¸ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ì…ë‹ˆë‹¤."
				}
			],
			"description": "ì‹¤ì œ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ì¢…í•©ì ì¸ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ë“¤ì…ë‹ˆë‹¤."
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// ì „ì—­ ë³€ìˆ˜ ì´ˆê¸°í™”",
					"pm.globals.set('testStartTime', new Date().toISOString());",
					"console.log('ğŸš€ WebSocket STOMP í…ŒìŠ¤íŠ¸ ì‹œì‘:', pm.globals.get('testStartTime'));"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// ì‘ë‹µ ì‹œê°„ ì²´í¬",
					"pm.test(\"ì‘ë‹µ ì‹œê°„ í™•ì¸ (2ì´ˆ ì´ë‚´)\", function () {",
					"    pm.expect(pm.response.responseTime).to.be.below(2000);",
					"});",
					"",
					"// ê³µí†µ í—¤ë” ì²´í¬",
					"pm.test(\"Content-Type í—¤ë” í™•ì¸\", function () {",
					"    if (pm.response.headers.get('Content-Type')) {",
					"        pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
					"    }",
					"});"
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080",
			"type": "string",
			"description": "Spring Boot ì„œë²„ì˜ ê¸°ë³¸ URL"
		},
		{
			"key": "wsUrl",
			"value": "ws://localhost:8080/ws",
			"type": "string",
			"description": "WebSocket ì—°ê²° URL"
		},
		{
			"key": "testRoomId",
			"value": "testroom",
			"type": "string",
			"description": "í…ŒìŠ¤íŠ¸ìš© ì±„íŒ…ë°© ID"
		}
	]
} 